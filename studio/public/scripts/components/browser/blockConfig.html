
<div class="block-config-container">

    <form class="form-horizontal" role="form">

        <div ng-repeat="parameter in block.parameters">

            <div class="form-group">

                <label class="col-sm-2 control-label">{{parameter.name()}}</label>

                <div class="col-sm-9">

                    <div class="input-group" ng-switch on="parameter.type()">

                        <span class="input-group-addon">
                            <i ng-attr-class="fa {{parameter.loading && 'fa-spinner fa-spin' || parameter.type()=='list' && 'fa-list-ul' || parameter.type()=='multiSelectList' && 'fa-list-alt' || parameter.type()=='query' && 'fa-pencil-square-o' || parameter.type()=='int' && 'fa-list-ol' || parameter.type()=='editableQuery' && 'fa-edit' || 'fa-file-text-o'}}"></i>
                        </span>

                        <select ng-switch-when="list"
                                class="form-control"
                                ng-model="parameter.value"
                                ng-disabled="!parameter.loaded"
                                ng-change="setValue(parameter);">

                            <option ng-repeat="option in parameter.fieldOptions" ng-selected="{{option==parameter.value}}" value="{{option}}">
                                {{option}}
                            </option>

                        </select>

                        <select ng-switch-when="multiSelectList"
                                class="form-control"
                                multiple="multiple"
                                ng-model="parameter.value"
                                ng-disabled="!parameter.loaded"
                                ng-change="setValue(parameter);"
                                size="10">

                            <option ng-repeat="option in parameter.fieldOptions" ng-selected="option.selected">{{option.itemName}}</option>

                        </select>

                        <input ng-switch-when="int" class="form-control" type="number" ng-model="parameter.value" ng-change="setValue(parameter);" />

                        <textarea ng-switch-when="query" class="form-control" type="text" ng-model="parameter.value" ng-change="setValue(parameter);" />

                        <button type="button" class="btn btn-success editable-query-btn" ng-switch-when="editableQuery" class="form-control" ng-click="editQuery($event, parameter)">Edit</button>

                        <input ng-switch-default class="form-control" type="text" ng-model="parameter.value" ng-change="setValue(parameter);" />

                    </div>

                </div>

            </div>

        </div>

        <div class="col-sm-offset-2 col-sm-9 block-config-changed">

            <button ng-show="onPropsChanged" type="button" class="btn btn-success btn-sm pull-right" ng-click="onSave()">
                <i class="fa fa-check"></i>
            </button>

            <button ng-show="onPropsChanged" type="button" class="btn btn-default btn-sm pull-right block-config-changed-btn" ng-click="onCancel()">
                <i class="fa fa-times"></i>
            </button>

        </div>

    </form>

</div>